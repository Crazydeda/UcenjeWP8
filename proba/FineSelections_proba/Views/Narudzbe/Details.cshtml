@model FineSelections.Models.Narudzba
@{
    ViewData["Title"] = "Detalji narudžbe";
    decimal total = 0;
}
<h1>Detalji narudžbe #@Model.ID_narudzbe</h1>
<p>Status: <strong>@Model.Status</strong></p>

@if (Model.Stavke == null || !Model.Stavke.Any())
{
    <p>Nema stavki.</p>
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>Proizvod</th>
                <th>Cijena</th>
                <th>Količina</th>
                <th>Ukupno</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var s in Model.Stavke)
        {
            var line = s.CijenaKom * s.Kolicina;
            total += line;
            <tr>
                <td>@s.Proizvod?.Naziv</td>
                <td>@s.CijenaKom.ToString("0.00") kn</td>
                <td>@s.Kolicina</td>
                <td>@line.ToString("0.00") kn</td>
            </tr>
        }
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3" style="text-align:right"><strong>Ukupno:</strong></td>
                <td><strong>@total.ToString("0.00") kn</strong></td>
            </tr>
        </tfoot>
    </table>
}
