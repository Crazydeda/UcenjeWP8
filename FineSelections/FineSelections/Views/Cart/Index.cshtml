@model IEnumerable<FineSelections.Web.Models.StavkaKosarice>
@{
  ViewData["Title"] = "Košarica";
  var proizvodi = (IDictionary<int, FineSelections.Web.Models.Proizvod>)ViewBag.Proizvodi;
  decimal total = 0;
}
<h3>Košarica</h3>
<table class="table align-middle">
  <thead><tr><th>Proizvod</th><th>Kom</th><th>Cijena</th><th>Ukupno</th><th></th></tr></thead>
  <tbody>
  @foreach (var s in Model)
  {
    var p = proizvodi[s.ID_proizvoda];
    var sum = s.kolicina * s.cijena_kom; total += sum;
    <tr>
      <td>@p.naziv</td>
      <td>@s.kolicina</td>
      <td>@s.cijena_kom.ToString("0.00") €</td>
      <td>@sum.ToString("0.00") €</td>
      <td>
        <form method="post" action="/Cart/Remove">
          <input type="hidden" name="id" value="@s.ID_stavke" />
          <button class="btn btn-sm btn-outline-danger">Ukloni</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>
<div class="d-flex justify-content-between">
  <div class="h5">Ukupno: @total.ToString("0.00") €</div>
  <form method="post" action="/Orders/Checkout">
    <button class="btn btn-dark">Završi narudžbu</button>
  </form>
</div>
